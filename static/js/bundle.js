!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=13)}([function(t,e,i){(function(t,i){var n;!function(){var r="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this||{},s=r._,o=Array.prototype,a=Object.prototype,h="undefined"!=typeof Symbol?Symbol.prototype:null,l=o.push,u=o.slice,c=a.toString,d=a.hasOwnProperty,f=Array.isArray,p=Object.keys,v=Object.create,g=function(){},_=function(t){return t instanceof _?t:this instanceof _?void(this._wrapped=t):new _(t)};void 0===e||e.nodeType?r._=_:(void 0!==i&&!i.nodeType&&i.exports&&(e=i.exports=_),e._=_),_.VERSION="1.9.1";var m,y=function(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 3:return function(i,n,r){return t.call(e,i,n,r)};case 4:return function(i,n,r,s){return t.call(e,i,n,r,s)}}return function(){return t.apply(e,arguments)}},w=function(t,e,i){return _.iteratee!==m?_.iteratee(t,e):null==t?_.identity:_.isFunction(t)?y(t,e,i):_.isObject(t)&&!_.isArray(t)?_.matcher(t):_.property(t)};_.iteratee=m=function(t,e){return w(t,e,1/0)};var b=function(t,e){return e=null==e?t.length-1:+e,function(){for(var i=Math.max(arguments.length-e,0),n=Array(i),r=0;r<i;r++)n[r]=arguments[r+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n);case 2:return t.call(this,arguments[0],arguments[1],n)}var s=Array(e+1);for(r=0;r<e;r++)s[r]=arguments[r];return s[e]=n,t.apply(this,s)}},E=function(t){if(!_.isObject(t))return{};if(v)return v(t);g.prototype=t;var e=new g;return g.prototype=null,e},x=function(t){return function(e){return null==e?void 0:e[t]}},C=function(t,e){return null!=t&&d.call(t,e)},V=function(t,e){for(var i=e.length,n=0;n<i;n++){if(null==t)return;t=t[e[n]]}return i?t:void 0},M=Math.pow(2,53)-1,R=x("length"),I=function(t){var e=R(t);return"number"==typeof e&&e>=0&&e<=M};_.each=_.forEach=function(t,e,i){var n,r;if(e=y(e,i),I(t))for(n=0,r=t.length;n<r;n++)e(t[n],n,t);else{var s=_.keys(t);for(n=0,r=s.length;n<r;n++)e(t[s[n]],s[n],t)}return t},_.map=_.collect=function(t,e,i){e=w(e,i);for(var n=!I(t)&&_.keys(t),r=(n||t).length,s=Array(r),o=0;o<r;o++){var a=n?n[o]:o;s[o]=e(t[a],a,t)}return s};var A=function(t){return function(e,i,n,r){var s=arguments.length>=3;return function(e,i,n,r){var s=!I(e)&&_.keys(e),o=(s||e).length,a=t>0?0:o-1;for(r||(n=e[s?s[a]:a],a+=t);a>=0&&a<o;a+=t){var h=s?s[a]:a;n=i(n,e[h],h,e)}return n}(e,y(i,r,4),n,s)}};_.reduce=_.foldl=_.inject=A(1),_.reduceRight=_.foldr=A(-1),_.find=_.detect=function(t,e,i){var n=(I(t)?_.findIndex:_.findKey)(t,e,i);if(void 0!==n&&-1!==n)return t[n]},_.filter=_.select=function(t,e,i){var n=[];return e=w(e,i),_.each(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n},_.reject=function(t,e,i){return _.filter(t,_.negate(w(e)),i)},_.every=_.all=function(t,e,i){e=w(e,i);for(var n=!I(t)&&_.keys(t),r=(n||t).length,s=0;s<r;s++){var o=n?n[s]:s;if(!e(t[o],o,t))return!1}return!0},_.some=_.any=function(t,e,i){e=w(e,i);for(var n=!I(t)&&_.keys(t),r=(n||t).length,s=0;s<r;s++){var o=n?n[s]:s;if(e(t[o],o,t))return!0}return!1},_.contains=_.includes=_.include=function(t,e,i,n){return I(t)||(t=_.values(t)),("number"!=typeof i||n)&&(i=0),_.indexOf(t,e,i)>=0},_.invoke=b(function(t,e,i){var n,r;return _.isFunction(e)?r=e:_.isArray(e)&&(n=e.slice(0,-1),e=e[e.length-1]),_.map(t,function(t){var s=r;if(!s){if(n&&n.length&&(t=V(t,n)),null==t)return;s=t[e]}return null==s?s:s.apply(t,i)})}),_.pluck=function(t,e){return _.map(t,_.property(e))},_.where=function(t,e){return _.filter(t,_.matcher(e))},_.findWhere=function(t,e){return _.find(t,_.matcher(e))},_.max=function(t,e,i){var n,r,s=-1/0,o=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,h=(t=I(t)?t:_.values(t)).length;a<h;a++)null!=(n=t[a])&&n>s&&(s=n);else e=w(e,i),_.each(t,function(t,i,n){((r=e(t,i,n))>o||r===-1/0&&s===-1/0)&&(s=t,o=r)});return s},_.min=function(t,e,i){var n,r,s=1/0,o=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,h=(t=I(t)?t:_.values(t)).length;a<h;a++)null!=(n=t[a])&&n<s&&(s=n);else e=w(e,i),_.each(t,function(t,i,n){((r=e(t,i,n))<o||r===1/0&&s===1/0)&&(s=t,o=r)});return s},_.shuffle=function(t){return _.sample(t,1/0)},_.sample=function(t,e,i){if(null==e||i)return I(t)||(t=_.values(t)),t[_.random(t.length-1)];var n=I(t)?_.clone(t):_.values(t),r=R(n);e=Math.max(Math.min(e,r),0);for(var s=r-1,o=0;o<e;o++){var a=_.random(o,s),h=n[o];n[o]=n[a],n[a]=h}return n.slice(0,e)},_.sortBy=function(t,e,i){var n=0;return e=w(e,i),_.pluck(_.map(t,function(t,i,r){return{value:t,index:n++,criteria:e(t,i,r)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return t.index-e.index}),"value")};var S=function(t,e){return function(i,n,r){var s=e?[[],[]]:{};return n=w(n,r),_.each(i,function(e,r){var o=n(e,r,i);t(s,e,o)}),s}};_.groupBy=S(function(t,e,i){C(t,i)?t[i].push(e):t[i]=[e]}),_.indexBy=S(function(t,e,i){t[i]=e}),_.countBy=S(function(t,e,i){C(t,i)?t[i]++:t[i]=1});var j=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;_.toArray=function(t){return t?_.isArray(t)?u.call(t):_.isString(t)?t.match(j):I(t)?_.map(t,_.identity):_.values(t):[]},_.size=function(t){return null==t?0:I(t)?t.length:_.keys(t).length},_.partition=S(function(t,e,i){t[i?0:1].push(e)},!0),_.first=_.head=_.take=function(t,e,i){return null==t||t.length<1?null==e?void 0:[]:null==e||i?t[0]:_.initial(t,t.length-e)},_.initial=function(t,e,i){return u.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},_.last=function(t,e,i){return null==t||t.length<1?null==e?void 0:[]:null==e||i?t[t.length-1]:_.rest(t,Math.max(0,t.length-e))},_.rest=_.tail=_.drop=function(t,e,i){return u.call(t,null==e||i?1:e)},_.compact=function(t){return _.filter(t,Boolean)};var O=function(t,e,i,n){for(var r=(n=n||[]).length,s=0,o=R(t);s<o;s++){var a=t[s];if(I(a)&&(_.isArray(a)||_.isArguments(a)))if(e)for(var h=0,l=a.length;h<l;)n[r++]=a[h++];else O(a,e,i,n),r=n.length;else i||(n[r++]=a)}return n};_.flatten=function(t,e){return O(t,e,!1)},_.without=b(function(t,e){return _.difference(t,e)}),_.uniq=_.unique=function(t,e,i,n){_.isBoolean(e)||(n=i,i=e,e=!1),null!=i&&(i=w(i,n));for(var r=[],s=[],o=0,a=R(t);o<a;o++){var h=t[o],l=i?i(h,o,t):h;e&&!i?(o&&s===l||r.push(h),s=l):i?_.contains(s,l)||(s.push(l),r.push(h)):_.contains(r,h)||r.push(h)}return r},_.union=b(function(t){return _.uniq(O(t,!0,!0))}),_.intersection=function(t){for(var e=[],i=arguments.length,n=0,r=R(t);n<r;n++){var s=t[n];if(!_.contains(e,s)){var o;for(o=1;o<i&&_.contains(arguments[o],s);o++);o===i&&e.push(s)}}return e},_.difference=b(function(t,e){return e=O(e,!0,!0),_.filter(t,function(t){return!_.contains(e,t)})}),_.unzip=function(t){for(var e=t&&_.max(t,R).length||0,i=Array(e),n=0;n<e;n++)i[n]=_.pluck(t,n);return i},_.zip=b(_.unzip),_.object=function(t,e){for(var i={},n=0,r=R(t);n<r;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i};var k=function(t){return function(e,i,n){i=w(i,n);for(var r=R(e),s=t>0?0:r-1;s>=0&&s<r;s+=t)if(i(e[s],s,e))return s;return-1}};_.findIndex=k(1),_.findLastIndex=k(-1),_.sortedIndex=function(t,e,i,n){for(var r=(i=w(i,n,1))(e),s=0,o=R(t);s<o;){var a=Math.floor((s+o)/2);i(t[a])<r?s=a+1:o=a}return s};var T=function(t,e,i){return function(n,r,s){var o=0,a=R(n);if("number"==typeof s)t>0?o=s>=0?s:Math.max(s+a,o):a=s>=0?Math.min(s+1,a):s+a+1;else if(i&&s&&a)return n[s=i(n,r)]===r?s:-1;if(r!=r)return(s=e(u.call(n,o,a),_.isNaN))>=0?s+o:-1;for(s=t>0?o:a-1;s>=0&&s<a;s+=t)if(n[s]===r)return s;return-1}};_.indexOf=T(1,_.findIndex,_.sortedIndex),_.lastIndexOf=T(-1,_.findLastIndex),_.range=function(t,e,i){null==e&&(e=t||0,t=0),i||(i=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/i),0),r=Array(n),s=0;s<n;s++,t+=i)r[s]=t;return r},_.chunk=function(t,e){if(null==e||e<1)return[];for(var i=[],n=0,r=t.length;n<r;)i.push(u.call(t,n,n+=e));return i};var B=function(t,e,i,n,r){if(!(n instanceof e))return t.apply(i,r);var s=E(t.prototype),o=t.apply(s,r);return _.isObject(o)?o:s};_.bind=b(function(t,e,i){if(!_.isFunction(t))throw new TypeError("Bind must be called on a function");var n=b(function(r){return B(t,n,e,this,i.concat(r))});return n}),_.partial=b(function(t,e){var i=_.partial.placeholder,n=function(){for(var r=0,s=e.length,o=Array(s),a=0;a<s;a++)o[a]=e[a]===i?arguments[r++]:e[a];for(;r<arguments.length;)o.push(arguments[r++]);return B(t,n,this,this,o)};return n}),_.partial.placeholder=_,_.bindAll=b(function(t,e){var i=(e=O(e,!1,!1)).length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var n=e[i];t[n]=_.bind(t[n],t)}}),_.memoize=function(t,e){var i=function(n){var r=i.cache,s=""+(e?e.apply(this,arguments):n);return C(r,s)||(r[s]=t.apply(this,arguments)),r[s]};return i.cache={},i},_.delay=b(function(t,e,i){return setTimeout(function(){return t.apply(null,i)},e)}),_.defer=_.partial(_.delay,_,1),_.throttle=function(t,e,i){var n,r,s,o,a=0;i||(i={});var h=function(){a=!1===i.leading?0:_.now(),n=null,o=t.apply(r,s),n||(r=s=null)},l=function(){var l=_.now();a||!1!==i.leading||(a=l);var u=e-(l-a);return r=this,s=arguments,u<=0||u>e?(n&&(clearTimeout(n),n=null),a=l,o=t.apply(r,s),n||(r=s=null)):n||!1===i.trailing||(n=setTimeout(h,u)),o};return l.cancel=function(){clearTimeout(n),a=0,n=r=s=null},l},_.debounce=function(t,e,i){var n,r,s=function(e,i){n=null,i&&(r=t.apply(e,i))},o=b(function(o){if(n&&clearTimeout(n),i){var a=!n;n=setTimeout(s,e),a&&(r=t.apply(this,o))}else n=_.delay(s,e,this,o);return r});return o.cancel=function(){clearTimeout(n),n=null},o},_.wrap=function(t,e){return _.partial(e,t)},_.negate=function(t){return function(){return!t.apply(this,arguments)}},_.compose=function(){var t=arguments,e=t.length-1;return function(){for(var i=e,n=t[e].apply(this,arguments);i--;)n=t[i].call(this,n);return n}},_.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},_.before=function(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}},_.once=_.partial(_.before,2),_.restArguments=b;var D=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],$=function(t,e){var i=P.length,n=t.constructor,r=_.isFunction(n)&&n.prototype||a,s="constructor";for(C(t,s)&&!_.contains(e,s)&&e.push(s);i--;)(s=P[i])in t&&t[s]!==r[s]&&!_.contains(e,s)&&e.push(s)};_.keys=function(t){if(!_.isObject(t))return[];if(p)return p(t);var e=[];for(var i in t)C(t,i)&&e.push(i);return D&&$(t,e),e},_.allKeys=function(t){if(!_.isObject(t))return[];var e=[];for(var i in t)e.push(i);return D&&$(t,e),e},_.values=function(t){for(var e=_.keys(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=t[e[r]];return n},_.mapObject=function(t,e,i){e=w(e,i);for(var n=_.keys(t),r=n.length,s={},o=0;o<r;o++){var a=n[o];s[a]=e(t[a],a,t)}return s},_.pairs=function(t){for(var e=_.keys(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=[e[r],t[e[r]]];return n},_.invert=function(t){for(var e={},i=_.keys(t),n=0,r=i.length;n<r;n++)e[t[i[n]]]=i[n];return e},_.functions=_.methods=function(t){var e=[];for(var i in t)_.isFunction(t[i])&&e.push(i);return e.sort()};var U=function(t,e){return function(i){var n=arguments.length;if(e&&(i=Object(i)),n<2||null==i)return i;for(var r=1;r<n;r++)for(var s=arguments[r],o=t(s),a=o.length,h=0;h<a;h++){var l=o[h];e&&void 0!==i[l]||(i[l]=s[l])}return i}};_.extend=U(_.allKeys),_.extendOwn=_.assign=U(_.keys),_.findKey=function(t,e,i){e=w(e,i);for(var n,r=_.keys(t),s=0,o=r.length;s<o;s++)if(e(t[n=r[s]],n,t))return n};var N,L,F=function(t,e,i){return e in i};_.pick=b(function(t,e){var i={},n=e[0];if(null==t)return i;_.isFunction(n)?(e.length>1&&(n=y(n,e[1])),e=_.allKeys(t)):(n=F,e=O(e,!1,!1),t=Object(t));for(var r=0,s=e.length;r<s;r++){var o=e[r],a=t[o];n(a,o,t)&&(i[o]=a)}return i}),_.omit=b(function(t,e){var i,n=e[0];return _.isFunction(n)?(n=_.negate(n),e.length>1&&(i=e[1])):(e=_.map(O(e,!1,!1),String),n=function(t,i){return!_.contains(e,i)}),_.pick(t,n,i)}),_.defaults=U(_.allKeys,!0),_.create=function(t,e){var i=E(t);return e&&_.extendOwn(i,e),i},_.clone=function(t){return _.isObject(t)?_.isArray(t)?t.slice():_.extend({},t):t},_.tap=function(t,e){return e(t),t},_.isMatch=function(t,e){var i=_.keys(e),n=i.length;if(null==t)return!n;for(var r=Object(t),s=0;s<n;s++){var o=i[s];if(e[o]!==r[o]||!(o in r))return!1}return!0},N=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var r=typeof t;return("function"===r||"object"===r||"object"==typeof e)&&L(t,e,i,n)},L=function(t,e,i,n){t instanceof _&&(t=t._wrapped),e instanceof _&&(e=e._wrapped);var r=c.call(t);if(r!==c.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return h.valueOf.call(t)===h.valueOf.call(e)}var s="[object Array]"===r;if(!s){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,a=e.constructor;if(o!==a&&!(_.isFunction(o)&&o instanceof o&&_.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}i=i||[],n=n||[];for(var l=i.length;l--;)if(i[l]===t)return n[l]===e;if(i.push(t),n.push(e),s){if((l=t.length)!==e.length)return!1;for(;l--;)if(!N(t[l],e[l],i,n))return!1}else{var u,d=_.keys(t);if(l=d.length,_.keys(e).length!==l)return!1;for(;l--;)if(u=d[l],!C(e,u)||!N(t[u],e[u],i,n))return!1}return i.pop(),n.pop(),!0},_.isEqual=function(t,e){return N(t,e)},_.isEmpty=function(t){return null==t||(I(t)&&(_.isArray(t)||_.isString(t)||_.isArguments(t))?0===t.length:0===_.keys(t).length)},_.isElement=function(t){return!(!t||1!==t.nodeType)},_.isArray=f||function(t){return"[object Array]"===c.call(t)},_.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},_.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){_["is"+t]=function(e){return c.call(e)==="[object "+t+"]"}}),_.isArguments(arguments)||(_.isArguments=function(t){return C(t,"callee")});var H=r.document&&r.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof H&&(_.isFunction=function(t){return"function"==typeof t||!1}),_.isFinite=function(t){return!_.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},_.isNaN=function(t){return _.isNumber(t)&&isNaN(t)},_.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===c.call(t)},_.isNull=function(t){return null===t},_.isUndefined=function(t){return void 0===t},_.has=function(t,e){if(!_.isArray(e))return C(t,e);for(var i=e.length,n=0;n<i;n++){var r=e[n];if(null==t||!d.call(t,r))return!1;t=t[r]}return!!i},_.noConflict=function(){return r._=s,this},_.identity=function(t){return t},_.constant=function(t){return function(){return t}},_.noop=function(){},_.property=function(t){return _.isArray(t)?function(e){return V(e,t)}:x(t)},_.propertyOf=function(t){return null==t?function(){}:function(e){return _.isArray(e)?V(t,e):t[e]}},_.matcher=_.matches=function(t){return t=_.extendOwn({},t),function(e){return _.isMatch(e,t)}},_.times=function(t,e,i){var n=Array(Math.max(0,t));e=y(e,i,1);for(var r=0;r<t;r++)n[r]=e(r);return n},_.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},_.now=Date.now||function(){return(new Date).getTime()};var z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},q=_.invert(z),W=function(t){var e=function(e){return t[e]},i="(?:"+_.keys(t).join("|")+")",n=RegExp(i),r=RegExp(i,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(r,e):t}};_.escape=W(z),_.unescape=W(q),_.result=function(t,e,i){_.isArray(e)||(e=[e]);var n=e.length;if(!n)return _.isFunction(i)?i.call(t):i;for(var r=0;r<n;r++){var s=null==t?void 0:t[e[r]];void 0===s&&(s=i,r=n),t=_.isFunction(s)?s.call(t):s}return t};var J=0;_.uniqueId=function(t){var e=++J+"";return t?t+e:e},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,G={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Y=/\\|'|\r|\n|\u2028|\u2029/g,Q=function(t){return"\\"+G[t]};_.template=function(t,e,i){!e&&i&&(e=i),e=_.defaults({},e,_.templateSettings);var n,r=RegExp([(e.escape||K).source,(e.interpolate||K).source,(e.evaluate||K).source].join("|")+"|$","g"),s=0,o="__p+='";t.replace(r,function(e,i,n,r,a){return o+=t.slice(s,a).replace(Y,Q),s=a+e.length,i?o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":r&&(o+="';\n"+r+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{n=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return n.call(this,t,_)},h=e.variable||"obj";return a.source="function("+h+"){\n"+o+"}",a},_.chain=function(t){var e=_(t);return e._chain=!0,e};var X=function(t,e){return t._chain?_(e).chain():e};_.mixin=function(t){return _.each(_.functions(t),function(e){var i=_[e]=t[e];_.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),X(this,i.apply(_,t))}}),_},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];_.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!==t&&"splice"!==t||0!==i.length||delete i[0],X(this,i)}}),_.each(["concat","join","slice"],function(t){var e=o[t];_.prototype[t]=function(){return X(this,e.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return String(this._wrapped)},void 0===(n=function(){return _}.apply(e,[]))||(i.exports=n)}()}).call(this,i(4),i(5)(t))},function(t,e,i){(function(n){var r,s;!function(o){var a="object"==typeof self&&self.self===self&&self||"object"==typeof n&&n.global===n&&n;r=[i(0),i(6),e],void 0===(s=function(t,e,i){a.Backbone=function(t,e,i,n){var r=t.Backbone,s=Array.prototype.slice;e.VERSION="1.3.3",e.$=n,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var o=function(t,e,n){i.each(e,function(e,r){i[r]&&(t.prototype[r]=function(t,e,n){switch(t){case 1:return function(){return i[e](this[n])};case 2:return function(t){return i[e](this[n],t)};case 3:return function(t,r){return i[e](this[n],a(t,this),r)};case 4:return function(t,r,s){return i[e](this[n],a(t,this),r,s)};default:return function(){var t=s.call(arguments);return t.unshift(this[n]),i[e].apply(i,t)}}}(e,r,n))})},a=function(t,e){return i.isFunction(t)?t:i.isObject(t)&&!e._isModel(t)?h(t):i.isString(t)?function(e){return e.get(t)}:t},h=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}},l=e.Events={},u=/\s+/,c=function(t,e,n,r,s){var o,a=0;if(n&&"object"==typeof n){void 0!==r&&"context"in s&&void 0===s.context&&(s.context=r);for(o=i.keys(n);a<o.length;a++)e=c(t,e,o[a],n[o[a]],s)}else if(n&&u.test(n))for(o=n.split(u);a<o.length;a++)e=t(e,o[a],r,s);else e=t(e,n,r,s);return e};l.on=function(t,e,i){return d(this,t,e,i)};var d=function(t,e,i,n,r){if(t._events=c(f,t._events||{},e,i,{context:n,ctx:t,listening:r}),r){var s=t._listeners||(t._listeners={});s[r.id]=r}return t};l.listenTo=function(t,e,n){if(!t)return this;var r=t._listenId||(t._listenId=i.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),o=s[r];if(!o){var a=this._listenId||(this._listenId=i.uniqueId("l"));o=s[r]={obj:t,objId:r,id:a,listeningTo:s,count:0}}return d(t,e,n,this,o),this};var f=function(t,e,i,n){if(i){var r=t[e]||(t[e]=[]),s=n.context,o=n.ctx,a=n.listening;a&&a.count++,r.push({callback:i,context:s,ctx:s||o,listening:a})}return t};l.off=function(t,e,i){return this._events?(this._events=c(p,this._events,t,e,{context:i,listeners:this._listeners}),this):this},l.stopListening=function(t,e,n){var r=this._listeningTo;if(!r)return this;for(var s=t?[t._listenId]:i.keys(r),o=0;o<s.length;o++){var a=r[s[o]];if(!a)break;a.obj.off(e,n,this)}return this};var p=function(t,e,n,r){if(t){var s,o=0,a=r.context,h=r.listeners;if(e||n||a){for(var l=e?[e]:i.keys(t);o<l.length;o++){e=l[o];var u=t[e];if(!u)break;for(var c=[],d=0;d<u.length;d++){var f=u[d];n&&n!==f.callback&&n!==f.callback._callback||a&&a!==f.context?c.push(f):(s=f.listening)&&0==--s.count&&(delete h[s.id],delete s.listeningTo[s.objId])}c.length?t[e]=c:delete t[e]}return t}for(var p=i.keys(h);o<p.length;o++)s=h[p[o]],delete h[s.id],delete s.listeningTo[s.objId]}};l.once=function(t,e,n){var r=c(v,{},t,e,i.bind(this.off,this));return"string"==typeof t&&null==n&&(e=void 0),this.on(r,e,n)},l.listenToOnce=function(t,e,n){var r=c(v,{},e,n,i.bind(this.stopListening,this,t));return this.listenTo(t,r)};var v=function(t,e,n,r){if(n){var s=t[e]=i.once(function(){r(e,s),n.apply(this,arguments)});s._callback=n}return t};l.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),n=0;n<e;n++)i[n]=arguments[n+1];return c(g,this._events,t,void 0,i),this};var g=function(t,e,i,n){if(t){var r=t[e],s=t.all;r&&s&&(s=s.slice()),r&&_(r,n),s&&_(s,[e].concat(n))}return t},_=function(t,e){var i,n=-1,r=t.length,s=e[0],o=e[1],a=e[2];switch(e.length){case 0:for(;++n<r;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<r;)(i=t[n]).callback.call(i.ctx,s);return;case 2:for(;++n<r;)(i=t[n]).callback.call(i.ctx,s,o);return;case 3:for(;++n<r;)(i=t[n]).callback.call(i.ctx,s,o,a);return;default:for(;++n<r;)(i=t[n]).callback.apply(i.ctx,e);return}};l.bind=l.on,l.unbind=l.off,i.extend(e,l);var m=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{});var r=i.result(this,"defaults");n=i.defaults(i.extend({},r,n),r),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(m.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(null==t)return this;var r;if("object"==typeof t?(r=t,n=e):(r={})[t]=e,n||(n={}),!this._validate(r,n))return!1;var s=n.unset,o=n.silent,a=[],h=this._changing;this._changing=!0,h||(this._previousAttributes=i.clone(this.attributes),this.changed={});var l=this.attributes,u=this.changed,c=this._previousAttributes;for(var d in r)e=r[d],i.isEqual(l[d],e)||a.push(d),i.isEqual(c[d],e)?delete u[d]:u[d]=e,s?delete l[d]:l[d]=e;if(this.idAttribute in r&&(this.id=this.get(this.idAttribute)),!o){a.length&&(this._pending=n);for(var f=0;f<a.length;f++)this.trigger("change:"+a[f],this,l[a[f]],n)}if(h)return this;if(!o)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,n={};for(var r in t){var s=t[r];i.isEqual(e[r],s)||(n[r]=s)}return!!i.size(n)&&n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){var e=this,n=(t=i.extend({parse:!0},t)).success;return t.success=function(i){var r=t.parse?e.parse(i,t):i;if(!e.set(r,t))return!1;n&&n.call(t.context,e,i,t),e.trigger("sync",e,i,t)},P(this,t),this.sync("read",this,t)},save:function(t,e,n){var r;null==t||"object"==typeof t?(r=t,n=e):(r={})[t]=e;var s=(n=i.extend({validate:!0,parse:!0},n)).wait;if(r&&!s){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;var o=this,a=n.success,h=this.attributes;n.success=function(t){o.attributes=h;var e=n.parse?o.parse(t,n):t;if(s&&(e=i.extend({},r,e)),e&&!o.set(e,n))return!1;a&&a.call(n.context,o,t,n),o.trigger("sync",o,t,n)},P(this,n),r&&s&&(this.attributes=i.extend({},h,r));var l=this.isNew()?"create":n.patch?"patch":"update";"patch"!==l||n.attrs||(n.attrs=r);var u=this.sync(l,this,n);return this.attributes=h,u},destroy:function(t){var e=this,n=(t=t?i.clone(t):{}).success,r=t.wait,s=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(i){r&&s(),n&&n.call(t.context,e,i,t),e.isNew()||e.trigger("sync",e,i,t)};var o=!1;return this.isNew()?i.defer(t.success):(P(this,t),o=this.sync("delete",this,t)),r||s(),o},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||D();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1)}}),o(m,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var y=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},w={add:!0,remove:!0,merge:!0},b={add:!0,remove:!1},E=function(t,e,i){i=Math.min(Math.max(i,0),t.length);var n,r=Array(t.length-i),s=e.length;for(n=0;n<r.length;n++)r[n]=t[n+i];for(n=0;n<s;n++)t[n+i]=e[n];for(n=0;n<r.length;n++)t[n+s+i]=r[n]};i.extend(y.prototype,l,{model:m,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,b))},remove:function(t,e){e=i.extend({},e);var n=!i.isArray(t);t=n?[t]:t.slice();var r=this._removeModels(t,e);return!e.silent&&r.length&&(e.changes={added:[],merged:[],removed:r},this.trigger("update",this,e)),n?r[0]:r},set:function(t,e){if(null!=t){(e=i.extend({},w,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var n=!i.isArray(t);t=n?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var s,o,a=[],h=[],l=[],u=[],c={},d=e.add,f=e.merge,p=e.remove,v=!1,g=this.comparator&&null==r&&!1!==e.sort,_=i.isString(this.comparator)?this.comparator:null;for(o=0;o<t.length;o++){s=t[o];var m=this.get(s);if(m){if(f&&s!==m){var y=this._isModel(s)?s.attributes:s;e.parse&&(y=m.parse(y,e)),m.set(y,e),l.push(m),g&&!v&&(v=m.hasChanged(_))}c[m.cid]||(c[m.cid]=!0,a.push(m)),t[o]=m}else d&&(s=t[o]=this._prepareModel(s,e))&&(h.push(s),this._addReference(s,e),c[s.cid]=!0,a.push(s))}if(p){for(o=0;o<this.length;o++)s=this.models[o],c[s.cid]||u.push(s);u.length&&this._removeModels(u,e)}var b=!1,x=!g&&d&&p;if(a.length&&x?(b=this.length!==a.length||i.some(this.models,function(t,e){return t!==a[e]}),this.models.length=0,E(this.models,a,0),this.length=this.models.length):h.length&&(g&&(v=!0),E(this.models,h,null==r?this.length:r),this.length=this.models.length),v&&this.sort({silent:!0}),!e.silent){for(o=0;o<h.length;o++)null!=r&&(e.index=r+o),(s=h[o]).trigger("add",s,this,e);(v||b)&&this.trigger("sort",this,e),(h.length||u.length||l.length)&&(e.changes={added:h,removed:u,merged:l},this.trigger("update",this,e))}return n?t[0]:t}},reset:function(t,e){e=e?i.clone(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var n=e.length;return i.isFunction(e)&&(e=i.bind(e,this)),1===n||i.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){var e=(t=i.extend({parse:!0},t)).success,n=this;return t.success=function(i){var r=t.reset?"reset":"set";n[r](i,t),e&&e.call(t.context,n,i,t),n.trigger("sync",n,i,t)},P(this,t),this.sync("read",this,t)},create:function(t,e){var n=(e=e?i.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;n||this.add(t,e);var r=this,s=e.success;return e.success=function(t,e,i){n&&r.add(t,i),s&&s.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?i.clone(e):{}).collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeModels:function(t,e){for(var i=[],n=0;n<t.length;n++){var r=this.get(t[n]);if(r){var s=this.indexOf(r);this.models.splice(s,1),this.length--,delete this._byId[r.cid];var o=this.modelId(r.attributes);null!=o&&delete this._byId[o],e.silent||(e.index=s,r.trigger("remove",r,this,e)),i.push(r),this._removeReference(r,e)}}return i},_isModel:function(t){return t instanceof m},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);null!=i&&(this._byId[i]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);null!=i&&delete this._byId[i],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if(e){if(("add"===t||"remove"===t)&&i!==this)return;if("destroy"===t&&this.remove(e,n),"change"===t){var r=this.modelId(e.previousAttributes()),s=this.modelId(e.attributes);r!==s&&(null!=r&&delete this._byId[r],null!=s&&(this._byId[s]=e))}}this.trigger.apply(this,arguments)}}),o(y,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var x=e.View=function(t){this.cid=i.uniqueId("view"),i.extend(this,i.pick(t,V)),this._ensureElement(),this.initialize.apply(this,arguments)},C=/^(\S+)\s*(.*)$/,V=["model","collection","el","id","attributes","className","tagName","events"];i.extend(x.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var n=t[e];if(i.isFunction(n)||(n=this[n]),n){var r=e.match(C);this.delegate(r[1],r[2],i.bind(n,this))}}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t.class=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,n,r){var s=M[t];i.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:s,dataType:"json"};if(r.url||(o.url=i.result(n,"url")||D()),null!=r.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){o.type="POST",r.emulateJSON&&(o.data._method=s);var a=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",s),a)return a.apply(this,arguments)}}"GET"===o.type||r.emulateJSON||(o.processData=!1);var h=r.error;r.error=function(t,e,i){r.textStatus=e,r.errorThrown=i,h&&h.call(r.context,t,e,i)};var l=r.xhr=e.ajax(i.extend(o,r));return n.trigger("request",n,l,r),l};var M={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var R=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},I=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,S=/\*\w+/g,j=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(R.prototype,l,{initialize:function(){},route:function(t,n,r){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(r=n,n=""),r||(r=this[n]);var s=this;return e.history.route(t,function(i){var o=s._extractParameters(t,i);!1!==s.execute(r,o,n)&&(s.trigger.apply(s,["route:"+n].concat(o)),s.trigger("route",n,o),e.history.trigger("route",s,n,o))}),this},execute:function(t,e,i){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(j,"\\$&").replace(I,"(?:$1)?").replace(A,function(t,e){return e?t:"([^/?]+)"}).replace(S,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var O=e.History=function(){this.handlers=[],this.checkUrl=i.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},k=/^[#\/]|\s+$/g,T=/^\/+|\/+$/g,B=/#.*$/;O.started=!1,i.extend(O.prototype,l,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(k,"")},start:function(t){if(O.started)throw new Error("Backbone.history has already been started");if(O.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(T,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,r=n.insertBefore(this.iframe,n.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var s=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),O.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),i.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!O.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root;""!==t&&"?"!==t.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+t;if(t=this.decodeFragment(t.replace(B,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new O;m.extend=y.extend=R.extend=x.extend=O.extend=function(t,e){var n,r=this;n=t&&i.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)};return i.extend(n,r,e),n.prototype=i.create(r.prototype,t),n.prototype.constructor=n,n.__super__=r.prototype,n};var D=function(){throw new Error('A "url" property or function must be specified')},P=function(t,e){var i=e.error;e.error=function(n){i&&i.call(e.context,t,n,e),t.trigger("error",t,n,e)}};return e}(a,i,t,e)}.apply(e,r))||(t.exports=s)}()}).call(this,i(4))},function(t,e,i){"use strict";i.d(e,"d",function(){return wt}),i.d(e,"b",function(){return Ct}),i.d(e,"c",function(){return W}),i.d(e,"a",function(){return It});var n=i(1),r=i.n(n),s=i(0),o=i.n(s),a=i(3),h=i.n(a),l=function(t){return function(e){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return t.apply(e,n)}},u=r.a.Model.extend,c=function(t){var e=this;if(t)return o.a.reduce(t,function(t,i,n){return o.a.isFunction(i)||(i=e[i]),i&&(t[n]=i),t},{})},d=["description","fileName","lineNumber","name","message","number","url"],f=u.call(Error,{urlRoot:"http://marionettejs.com/docs/v4.0.0/",url:"",constructor:function(t){var e=Error.call(this,t.message);o.a.extend(this,o.a.pick(e,d),o.a.pick(t,d)),Error.captureStackTrace&&this.captureStackTrace(),this.url=this.urlRoot+this.url},captureStackTrace:function(){Error.captureStackTrace(this,f)},toString:function(){return this.name+": "+this.message+" See: "+this.url}});function p(t,e){if(!o.a.isObject(e))throw new f({message:"Bindings must be an object.",url:"common.html#bindevents"});return c.call(t,e)}function v(t,e){return t&&e?(this.listenTo(t,p(this,e)),this):this}function g(t,e){return t?e?(this.stopListening(t,p(this,e)),this):(this.stopListening(t),this):this}function _(t,e){if(!o.a.isObject(e))throw new f({message:"Bindings must be an object.",url:"common.html#bindrequests"});return c.call(t,e)}function m(t,e){return t&&e?(t.reply(_(this,e),this),this):this}function y(t,e){return t?e?(t.stopReplying(_(this,e)),this):(t.stopReplying(null,null,this),this):this}var w=function(t){if(t)return this.options&&void 0!==this.options[t]?this.options[t]:this[t]},b=function(t,e){var i=this;t&&o.a.each(e,function(e){var n=t[e];void 0!==n&&(i[e]=n)})};function E(t,e,i){t._getImmediateChildren&&o.a.each(t._getImmediateChildren(),function(t){i(t)&&t.triggerMethod(e,t)})}function x(t){return!t._isAttached}function C(t){return!!x(t)&&(t._isAttached=!0,!0)}function V(t){return t._isAttached}function M(t){return!!V(t)&&(t._isAttached=!1,!0)}function R(t){t._isAttached&&t._isRendered&&t.triggerMethod("dom:refresh",t)}function I(t){t._isAttached&&t._isRendered&&t.triggerMethod("dom:remove",t)}function A(){E(this,"before:attach",x)}function S(){E(this,"attach",C),R(this)}function j(){E(this,"before:detach",V),I(this)}function O(){E(this,"detach",M)}function k(){I(this)}function T(){R(this)}function B(t){t._areViewEventsMonitored||!1===t.monitorViewEvents||(t._areViewEventsMonitored=!0,t.on({"before:attach":A,attach:S,"before:detach":j,detach:O,"before:render":k,render:T}))}var D=/(^|:)(\w)/gi,P={};function $(t,e,i){return i.toUpperCase()}var U=function(t){return P[t]||(P[t]="on"+t.replace(D,$)),P[t]};function N(t){var e=U(t),i=w.call(this,e),n=void 0;return o.a.isFunction(i)&&(n=i.apply(this,o.a.drop(arguments))),this.trigger.apply(this,arguments),n}var L={triggerMethod:N},F={normalizeMethods:c,_setOptions:function(t,e){this.options=o.a.extend({},o.a.result(this,"options"),t),this.mergeOptions(t,e)},mergeOptions:b,getOption:w,bindEvents:v,unbindEvents:g,bindRequests:m,unbindRequests:y,triggerMethod:N};o.a.extend(F,r.a.Events);var H={_isDestroyed:!1,isDestroyed:function(){return this._isDestroyed},destroy:function(t){return this._isDestroyed?this:(this.triggerMethod("before:destroy",this,t),this._isDestroyed=!0,this.triggerMethod("destroy",this,t),this.stopListening(),this)}},z={_initRadio:function(){var t=o.a.result(this,"channelName");if(t){if(!h.a)throw new f({message:'The dependency "backbone.radio" is missing.',url:"backbone.radio.html#marionette-integration"});var e=this._channel=h.a.channel(t),i=o.a.result(this,"radioEvents");this.bindEvents(e,i);var n=o.a.result(this,"radioRequests");this.bindRequests(e,n),this.on("destroy",this._destroyRadio)}},_destroyRadio:function(){this._channel.stopReplying(null,null,this)},getChannel:function(){return this._channel}},q=["channelName","radioEvents","radioRequests"],W=function(t){this._setOptions(t,q),this.cid=o.a.uniqueId(this.cidPrefix),this._initRadio(),this.initialize.apply(this,arguments)};W.extend=u,o.a.extend(W.prototype,F,H,z,{cidPrefix:"mno",initialize:function(){}});var J=o.a.invokeMap||o.a.invoke;function K(t,e,i){return o.a.reduce(e,function(e,i){var n=function(t){if(t.behaviorClass)return{BehaviorClass:t.behaviorClass,options:t};if(o.a.isFunction(t))return{BehaviorClass:t,options:{}};throw new f({message:"Unable to get behavior class. A Behavior constructor should be passed directly or as behaviorClass property of options",url:"marionette.behavior.html#defining-and-attaching-behaviors"})}(i),r=new(0,n.BehaviorClass)(n.options,t);return e.push(r),K(t,o.a.result(r,"behaviors"),e)},i)}var G={_initBehaviors:function(){this._behaviors=K(this,o.a.result(this,"behaviors"),[])},_getBehaviorTriggers:function(){var t=J(this._behaviors,"_getTriggers");return o.a.reduce(t,function(t,e){return o.a.extend(t,e)},{})},_getBehaviorEvents:function(){var t=J(this._behaviors,"_getEvents");return o.a.reduce(t,function(t,e){return o.a.extend(t,e)},{})},_proxyBehaviorViewProperties:function(){J(this._behaviors,"proxyViewProperties")},_delegateBehaviorEntityEvents:function(){J(this._behaviors,"delegateEntityEvents")},_undelegateBehaviorEntityEvents:function(){J(this._behaviors,"undelegateEntityEvents")},_destroyBehaviors:function(t){J(this._behaviors,"destroy",t)},_removeBehavior:function(t){this._isDestroyed||(this.undelegate(".trig"+t.cid+" ."+t.cid),this._behaviors=o.a.without(this._behaviors,t))},_bindBehaviorUIElements:function(){J(this._behaviors,"bindUIElements")},_unbindBehaviorUIElements:function(){J(this._behaviors,"unbindUIElements")},_triggerEventOnBehaviors:function(t,e,i){J(this._behaviors,"triggerMethod",t,e,i)}},Y={_delegateEntityEvents:function(t,e){t&&(this._modelEvents=o.a.result(this,"modelEvents"),this.bindEvents(t,this._modelEvents)),e&&(this._collectionEvents=o.a.result(this,"collectionEvents"),this.bindEvents(e,this._collectionEvents))},_undelegateEntityEvents:function(t,e){this._modelEvents&&(this.unbindEvents(t,this._modelEvents),delete this._modelEvents),this._collectionEvents&&(this.unbindEvents(e,this._collectionEvents),delete this._collectionEvents)},_deleteEntityEventHandlers:function(){delete this._modelEvents,delete this._collectionEvents}},Q={_renderTemplate:function(t){var e=this.mixinTemplateContext(this.serializeData())||{},i=this._renderHtml(t,e);void 0!==i&&this.attachElContent(i)},getTemplate:function(){return this.template},mixinTemplateContext:function(t){var e=o.a.result(this,"templateContext");return e?t?o.a.extend({},t,e):e:t},serializeData:function(){return this.model?this.serializeModel():this.collection?{items:this.serializeCollection()}:void 0},serializeModel:function(){return this.model.attributes},serializeCollection:function(){return o.a.map(this.collection.models,function(t){return t.attributes})},_renderHtml:function(t,e){return t(e)},attachElContent:function(t){this.Dom.setContents(this.el,t,this.$el)}},X=/^(\S+)\s*(.*)$/,Z=function(t,e){var i=t.match(X);return i[1]+"."+e+" "+i[2]},tt={childViewEventPrefix:!1,triggersStopPropagation:!0,triggersPreventDefault:!0,DEV_MODE:!1};function et(t){return!!tt[t]}var it={_getViewTriggers:function(t,e){var i=this;return o.a.reduce(e,function(e,n,r){return e[r=Z(r,"trig"+i.cid)]=function(t,e){o.a.isString(e)&&(e={event:e});var i=e.event,n=!!e.preventDefault;et("triggersPreventDefault")&&(n=!1!==e.preventDefault);var r=!!e.stopPropagation;return et("triggersStopPropagation")&&(r=!1!==e.stopPropagation),function(e){n&&e.preventDefault(),r&&e.stopPropagation();for(var s=arguments.length,o=Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];t.triggerMethod.apply(t,[i,t,e].concat(o))}}(t,n),e},{})}},nt=/@ui\.[a-zA-Z-_$0-9]*/g,rt=function(t,e){return t.replace(nt,function(t){return e[t.slice(4)]})},st={normalizeUIKeys:function(t){return function(t,e){return o.a.reduce(t,function(t,i,n){return t[rt(n,e)]=i,t},{})}(t,this._getUIBindings())},normalizeUIString:function(t){var e=this._getUIBindings();return rt(t,e)},normalizeUIValues:function(t,e){return function(t,e,i){return o.a.each(t,function(n,r){if(o.a.isString(n))t[r]=rt(n,e);else if(n){var s=n[i];o.a.isString(s)&&(n[i]=rt(s,e))}}),t}(t,this._getUIBindings(),e)},_getUIBindings:function(){return o.a.result(this,"_uiBindings")||o.a.result(this,"ui")},_bindUIElements:function(){var t=this;if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var e=o.a.result(this,"_uiBindings");this._ui={},o.a.each(e,function(e,i){t._ui[i]=t.$(e)}),this.ui=this._ui}},_unbindUIElements:function(){var t=this;this.ui&&this._uiBindings&&(o.a.each(this.ui,function(e,i){delete t.ui[i]}),this.ui=this._uiBindings,delete this._uiBindings,delete this._ui)},_getUI:function(t){return this._ui[t]}};function ot(t){return t instanceof r.a.$?t:r.a.$(t)}function at(t){return this.prototype.Dom=o.a.extend({},this.prototype.Dom,t),this}var ht={createBuffer:function(){return document.createDocumentFragment()},getEl:function(t){return ot(t)},findEl:function(t,e){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:ot(t)).find(e)},hasEl:function(t,e){return t.contains(e&&e.parentNode)},detachEl:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:ot(t)).detach()},replaceEl:function(t,e){if(t!==e){var i=e.parentNode;i&&i.replaceChild(t,e)}},swapEl:function(t,e){if(t!==e){var i=t.parentNode,n=e.parentNode;if(i&&n){var r=t.nextSibling,s=e.nextSibling;i.insertBefore(e,r),n.insertBefore(t,s)}}},setContents:function(t,e){(arguments.length>2&&void 0!==arguments[2]?arguments[2]:ot(t)).html(e)},appendContents:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i._$el,r=void 0===n?ot(t):n,s=i._$contents,o=void 0===s?ot(e):s;r.append(o)},hasContents:function(t){return!!t&&t.hasChildNodes()},detachContents:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:ot(t)).contents().detach()}},lt={Dom:ht,supportsRenderLifecycle:!0,supportsDestroyLifecycle:!0,_isDestroyed:!1,isDestroyed:function(){return!!this._isDestroyed},_isRendered:!1,isRendered:function(){return!!this._isRendered},_isAttached:!1,isAttached:function(){return!!this._isAttached},delegateEvents:function(t){this._proxyBehaviorViewProperties(),this._buildEventProxies();var e=o.a.extend({},this._getBehaviorEvents(),this._getEvents(t),this._getBehaviorTriggers(),this._getTriggers());return r.a.View.prototype.delegateEvents.call(this,e),this},_getEvents:function(t){return t?this.normalizeUIKeys(t):this.events?this.normalizeUIKeys(o.a.result(this,"events")):void 0},_getTriggers:function(){if(this.triggers){var t=this.normalizeUIKeys(o.a.result(this,"triggers"));return this._getViewTriggers(this,t)}},delegateEntityEvents:function(){return this._delegateEntityEvents(this.model,this.collection),this._delegateBehaviorEntityEvents(),this},undelegateEntityEvents:function(){return this._undelegateEntityEvents(this.model,this.collection),this._undelegateBehaviorEntityEvents(),this},destroy:function(t){if(this._isDestroyed)return this;var e=this._isAttached&&!this._disableDetachEvents;return this.triggerMethod("before:destroy",this,t),e&&this.triggerMethod("before:detach",this),this.unbindUIElements(),this._removeElement(),e&&(this._isAttached=!1,this.triggerMethod("detach",this)),this._removeChildren(),this._isDestroyed=!0,this._isRendered=!1,this._destroyBehaviors(t),this._deleteEntityEventHandlers(),this.triggerMethod("destroy",this,t),this._triggerEventOnBehaviors("destroy",this,t),this.stopListening(),this},_removeElement:function(){this.$el.off().removeData(),this.Dom.detachEl(this.el,this.$el)},bindUIElements:function(){return this._bindUIElements(),this._bindBehaviorUIElements(),this},unbindUIElements:function(){return this._unbindUIElements(),this._unbindBehaviorUIElements(),this},getUI:function(t){return this._getUI(t)},_buildEventProxies:function(){this._childViewEvents=this.normalizeMethods(o.a.result(this,"childViewEvents")),this._childViewTriggers=o.a.result(this,"childViewTriggers"),this._eventPrefix=this._getEventPrefix()},_getEventPrefix:function(){var t=!!et("childViewEventPrefix")&&"childview",e=o.a.result(this,"childViewEventPrefix",t);return!1===e?e:e+":"},_proxyChildViewEvents:function(t){(this._childViewEvents||this._childViewTriggers||this._eventPrefix)&&this.listenTo(t,"all",this._childViewEventHandler)},_childViewEventHandler:function(t){for(var e=this._childViewEvents,i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];e&&e[t]&&e[t].apply(this,n);var s=this._childViewTriggers;s&&s[t]&&this.triggerMethod.apply(this,[s[t]].concat(n)),this._eventPrefix&&this.triggerMethod.apply(this,[this._eventPrefix+t].concat(n))}};function ut(t){t._isRendered||(t.supportsRenderLifecycle||t.triggerMethod("before:render",t),t.render(),t._isRendered=!0,t.supportsRenderLifecycle||t.triggerMethod("render",t))}function ct(t,e){if(t.destroy)return t._disableDetachEvents=e,void t.destroy();t.supportsDestroyLifecycle||t.triggerMethod("before:destroy",t);var i=t._isAttached&&!e;i&&t.triggerMethod("before:detach",t),t.remove(),i&&(t._isAttached=!1,t.triggerMethod("detach",t)),t._isDestroyed=!0,t.supportsDestroyLifecycle||t.triggerMethod("destroy",t)}o.a.extend(lt,G,F,Y,Q,it,st);var dt=["allowMissingEl","parentEl","replaceElement"],ft=function(t){if(this._setOptions(t,dt),this.cid=o.a.uniqueId(this.cidPrefix),this._initEl=this.el=this.getOption("el"),this.el=this.el instanceof r.a.$?this.el[0]:this.el,!this.el)throw new f({name:"RegionError",message:'An "el" must be specified for a region.',url:"marionette.region.html#additional-options"});this.$el=this.getEl(this.el),this.initialize.apply(this,arguments)};ft.extend=u,ft.setDomApi=at,o.a.extend(ft.prototype,F,{Dom:ht,cidPrefix:"mnr",replaceElement:!1,_isReplaced:!1,_isSwappingView:!1,initialize:function(){},show:function(t,e){if(this._ensureElement(e))return(t=this._getView(t,e))===this.currentView?this:(this._isSwappingView=!!this.currentView,this.triggerMethod("before:show",this,t,e),t._isAttached||this.empty(e),this._setupChildView(t),this.currentView=t,ut(t),this._attachView(t,e),this.triggerMethod("show",this,t,e),this._isSwappingView=!1,this)},_setupChildView:function(t){B(t),this._proxyChildViewEvents(t),t.on("destroy",this._empty,this)},_proxyChildViewEvents:function(t){var e=this._parentView;e&&e._proxyChildViewEvents(t)},_shouldDisableMonitoring:function(){return this._parentView&&!1===this._parentView.monitorViewEvents},_attachView:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=!t._isAttached&&this.Dom.hasEl(document.documentElement,this.el)&&!this._shouldDisableMonitoring(),n=void 0===e.replaceElement?!!o.a.result(this,"replaceElement"):!!e.replaceElement;i&&t.triggerMethod("before:attach",t),n?this._replaceEl(t):this.attachHtml(t),i&&(t._isAttached=!0,t.triggerMethod("attach",t))},_ensureElement:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o.a.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0],this.$el=this.Dom.getEl(this.el)),!this.$el||0===this.$el.length){if(void 0===t.allowMissingEl?!!o.a.result(this,"allowMissingEl"):!!t.allowMissingEl)return!1;throw new f({name:"RegionError",message:'An "el" must exist in DOM for this region '+this.cid,url:"marionette.region.html#additional-options"})}return!0},_getView:function(t){if(!t)throw new f({name:"RegionError",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show.",url:"marionette.region.html#showing-a-view"});if(t._isDestroyed)throw new f({name:"RegionError",message:'View (cid: "'+t.cid+'") has already been destroyed and cannot be used.',url:"marionette.region.html#showing-a-view"});if(t instanceof r.a.View)return t;var e=this._getViewOptions(t);return new wt(e)},_getViewOptions:function(t){if(o.a.isFunction(t))return{template:t};if(o.a.isObject(t))return t;return{template:function(){return t}}},getEl:function(t){var e=o.a.result(this,"parentEl");return e&&o.a.isString(t)?this.Dom.findEl(e,t):this.Dom.getEl(t)},_replaceEl:function(t){this._restoreEl(),t.on("before:destroy",this._restoreEl,this),this.Dom.replaceEl(t.el,this.el),this._isReplaced=!0},_restoreEl:function(){if(this._isReplaced){var t=this.currentView;t&&(this._detachView(t),this._isReplaced=!1)}},isReplaced:function(){return!!this._isReplaced},isSwappingView:function(){return!!this._isSwappingView},attachHtml:function(t){this.Dom.appendContents(this.el,t.el,{_$el:this.$el,_$contents:t.$el})},empty:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{allowMissingEl:!0},e=this.currentView;return e?(this._empty(e,!0),this):(this._ensureElement(t)&&this.detachHtml(),this)},_empty:function(t,e){t.off("destroy",this._empty,this),this.triggerMethod("before:empty",this,t),this._restoreEl(),delete this.currentView,t._isDestroyed||(e?this.removeView(t):this._detachView(t),this._stopChildViewEvents(t)),this.triggerMethod("empty",this,t)},_stopChildViewEvents:function(t){this._parentView&&this._parentView.stopListening(t)},destroyView:function(t){return t._isDestroyed?t:(ct(t,this._shouldDisableMonitoring()),t)},removeView:function(t){this.destroyView(t)},detachView:function(){var t=this.currentView;if(t)return this._empty(t),t},_detachView:function(t){var e=t._isAttached&&!this._shouldDisableMonitoring(),i=this._isReplaced;e&&t.triggerMethod("before:detach",t),i?this.Dom.replaceEl(this.el,t.el):this.detachHtml(),e&&(t._isAttached=!1,t.triggerMethod("detach",t))},detachHtml:function(){this.Dom.detachContents(this.el,this.$el)},hasView:function(){return!!this.currentView},reset:function(t){return this.empty(t),this.$el&&(this.el=this._initEl),delete this.$el,this},_isDestroyed:!1,isDestroyed:function(){return this._isDestroyed},destroy:function(t){return this._isDestroyed?this:(this.triggerMethod("before:destroy",this,t),this._isDestroyed=!0,this.reset(t),this._name&&this._parentView._removeReferences(this._name),delete this._parentView,delete this._name,this.triggerMethod("destroy",this,t),this.stopListening(),this)}});var pt=function(t,e){if(t instanceof ft)return t;if(o.a.isString(t))return vt(e,{el:t});if(o.a.isFunction(t))return vt(e,{regionClass:t});if(o.a.isObject(t))return vt(e,t);throw new f({message:"Improper region configuration type.",url:"marionette.region.html#defining-regions"})};function vt(t,e){var i=o.a.extend({},t,e),n=i.regionClass;return delete i.regionClass,new n(i)}var gt={regionClass:ft,_initRegions:function(){this.regions=this.regions||{},this._regions={},this.addRegions(o.a.result(this,"regions"))},_reInitRegions:function(){J(this._regions,"reset")},addRegion:function(t,e){var i={};return i[t]=e,this.addRegions(i)[t]},addRegions:function(t){if(!o.a.isEmpty(t))return t=this.normalizeUIValues(t,"el"),this.regions=o.a.extend({},this.regions,t),this._addRegions(t)},_addRegions:function(t){var e=this,i={regionClass:this.regionClass,parentEl:o.a.partial(o.a.result,this,"el")};return o.a.reduce(t,function(t,n,r){return t[r]=pt(n,i),e._addRegion(t[r],r),t},{})},_addRegion:function(t,e){this.triggerMethod("before:add:region",this,e,t),t._parentView=this,t._name=e,this._regions[e]=t,this.triggerMethod("add:region",this,e,t)},removeRegion:function(t){var e=this._regions[t];return this._removeRegion(e,t),e},removeRegions:function(){var t=this._getRegions();return o.a.each(this._regions,this._removeRegion.bind(this)),t},_removeRegion:function(t,e){this.triggerMethod("before:remove:region",this,e,t),t.destroy(),this.triggerMethod("remove:region",this,e,t)},_removeReferences:function(t){delete this.regions[t],delete this._regions[t]},emptyRegions:function(){var t=this.getRegions();return J(t,"empty"),t},hasRegion:function(t){return!!this.getRegion(t)},getRegion:function(t){return this._isRendered||this.render(),this._regions[t]},_getRegions:function(){return o.a.clone(this._regions)},getRegions:function(){return this._isRendered||this.render(),this._getRegions()},showChildView:function(t,e,i){return this.getRegion(t).show(e,i),e},detachChildView:function(t){return this.getRegion(t).detachView()},getChildView:function(t){return this.getRegion(t).currentView}};function _t(t){return this.prototype._renderHtml=t,this}var mt=["behaviors","childViewEventPrefix","childViewEvents","childViewTriggers","collectionEvents","events","modelEvents","regionClass","regions","template","templateContext","triggers","ui"];function yt(t,e){return e.currentView&&t.push(e.currentView),t}var wt=r.a.View.extend({constructor:function(t){this._setOptions(t,mt),B(this),this._initBehaviors(),this._initRegions(),r.a.View.prototype.constructor.apply(this,arguments),this.delegateEntityEvents(),this._triggerEventOnBehaviors("initialize",this,t)},setElement:function(){return r.a.View.prototype.setElement.apply(this,arguments),this._isRendered=this.Dom.hasContents(this.el),this._isAttached=this.Dom.hasEl(document.documentElement,this.el),this._isRendered&&this.bindUIElements(),this},render:function(){var t=this.getTemplate();return!1===t||this._isDestroyed?this:(this.triggerMethod("before:render",this),this._isRendered&&this._reInitRegions(),this._renderTemplate(t),this.bindUIElements(),this._isRendered=!0,this.triggerMethod("render",this),this)},_removeChildren:function(){this.removeRegions()},_getImmediateChildren:function(){return o.a.reduce(this._regions,yt,[])}},{setRenderer:_t,setDomApi:at});o.a.extend(wt.prototype,lt,gt);var bt=function(){this._init()};function Et(t,e){return e.model&&e.model.get(t)}o.a.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck","reduce","partition"],function(t){bt.prototype[t]=function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return o.a[t].apply(o.a,[this._views].concat(i))}}),o.a.extend(bt.prototype,{_init:function(){this._views=[],this._viewsByCid={},this._indexByModel={},this._updateLength()},_add:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._views.length;this._addViewIndexes(t),this._views.splice(e,0,t),this._updateLength()},_addViewIndexes:function(t){this._viewsByCid[t.cid]=t,t.model&&(this._indexByModel[t.model.cid]=t)},_sort:function(t,e){return"string"==typeof t?(t=o.a.partial(Et,t),this._sortBy(t)):1===t.length?this._sortBy(t.bind(e)):this._views.sort(t.bind(e))},_sortBy:function(t){var e=o.a.sortBy(this._views,t);return this._set(e),e},_set:function(t,e){this._views.length=0,this._views.push.apply(this._views,t.slice(0)),e&&(this._viewsByCid={},this._indexByModel={},o.a.each(t,this._addViewIndexes.bind(this)),this._updateLength())},_swap:function(t,e){var i=this.findIndexByView(t),n=this.findIndexByView(e);if(-1!==i&&-1!==n){var r=this._views[i];this._views[i]=this._views[n],this._views[n]=r}},findByModel:function(t){return this.findByModelCid(t.cid)},findByModelCid:function(t){return this._indexByModel[t]},findByIndex:function(t){return this._views[t]},findIndexByView:function(t){return this._views.indexOf(t)},findByCid:function(t){return this._viewsByCid[t]},hasView:function(t){return!!this.findByCid(t.cid)},_remove:function(t){if(this._viewsByCid[t.cid]){t.model&&delete this._indexByModel[t.model.cid],delete this._viewsByCid[t.cid];var e=this.findIndexByView(t);this._views.splice(e,1),this._updateLength()}},_updateLength:function(){this.length=this._views.length}});var xt=["behaviors","childView","childViewContainer","childViewEventPrefix","childViewEvents","childViewOptions","childViewTriggers","collectionEvents","emptyView","emptyViewOptions","events","modelEvents","sortWithCollection","template","templateContext","triggers","ui","viewComparator","viewFilter"],Ct=r.a.View.extend({sortWithCollection:!0,constructor:function(t){this._setOptions(t,xt),B(this),this._initChildViewStorage(),this._initBehaviors(),r.a.View.prototype.constructor.apply(this,arguments),this.getEmptyRegion(),this.delegateEntityEvents(),this._triggerEventOnBehaviors("initialize",this,t)},_initChildViewStorage:function(){this._children=new bt,this.children=new bt},getEmptyRegion:function(){return this._emptyRegion&&!this._emptyRegion.isDestroyed()?this._emptyRegion:(this._emptyRegion=new ft({el:this.el,replaceElement:!1}),this._emptyRegion._parentView=this,this._emptyRegion)},_initialEvents:function(){this._isRendered||this.listenTo(this.collection,{sort:this._onCollectionSort,reset:this._onCollectionReset,update:this._onCollectionUpdate})},_onCollectionSort:function(t,e){var i=e.add,n=e.merge,r=e.remove;this.sortWithCollection&&!1!==this.viewComparator&&(i||r||n||this.sort())},_onCollectionReset:function(){this._destroyChildren(),this._addChildModels(this.collection.models),this.sort()},_onCollectionUpdate:function(t,e){var i=e.changes,n=i.removed.length&&this._removeChildModels(i.removed);this._addedViews=i.added.length&&this._addChildModels(i.added),this._detachChildren(n),this.sort(),this._removeChildViews(n)},_removeChildModels:function(t){var e=this;return o.a.reduce(t,function(t,i){var n=e._removeChildModel(i);return n&&t.push(n),t},[])},_removeChildModel:function(t){var e=this._children.findByModel(t);return e&&this._removeChild(e),e},_removeChild:function(t){this.triggerMethod("before:remove:child",this,t),this.children._remove(t),this._children._remove(t),this.triggerMethod("remove:child",this,t)},_addChildModels:function(t){return o.a.map(t,this._addChildModel.bind(this))},_addChildModel:function(t){var e=this._createChildView(t);return this._addChild(e),e},_createChildView:function(t){var e=this._getChildView(t),i=this._getChildViewOptions(t);return this.buildChildView(t,e,i)},_addChild:function(t,e){this.triggerMethod("before:add:child",this,t),this._setupChildView(t),this._children._add(t,e),this.children._add(t,e),this.triggerMethod("add:child",this,t)},_getChildView:function(t){var e=this.childView;if(!e)throw new f({name:"CollectionViewError",message:'A "childView" must be specified',url:"marionette.collectionview.html#collectionviews-childview"});if(!(e=this._getView(e,t)))throw new f({name:"CollectionViewError",message:'"childView" must be a view class or a function that returns a view class',url:"marionette.collectionview.html#collectionviews-childview"});return e},_getView:function(t,e){return t.prototype instanceof r.a.View||t===r.a.View?t:o.a.isFunction(t)?t.call(this,e):void 0},_getChildViewOptions:function(t){return o.a.isFunction(this.childViewOptions)?this.childViewOptions(t):this.childViewOptions},buildChildView:function(t,e,i){return new e(o.a.extend({model:t},i))},_setupChildView:function(t){B(t),t.on("destroy",this.removeChildView,this),this._proxyChildViewEvents(t)},_getImmediateChildren:function(){return this.children._views},setElement:function(){return r.a.View.prototype.setElement.apply(this,arguments),this._isAttached=this.Dom.hasEl(document.documentElement,this.el),this},render:function(){if(this._isDestroyed)return this;this.triggerMethod("before:render",this),this._destroyChildren(),this.collection&&(this._addChildModels(this.collection.models),this._initialEvents());var t=this.getTemplate();return t&&(this._renderTemplate(t),this.bindUIElements()),this._getChildViewContainer(),this.sort(),this._isRendered=!0,this.triggerMethod("render",this),this},_getChildViewContainer:function(){var t=o.a.result(this,"childViewContainer");if(this.$container=t?this.$(t):this.$el,!this.$container.length)throw new f({name:"CollectionViewError",message:'The specified "childViewContainer" was not found: '+t,url:"marionette.collectionview.html#defining-the-childviewcontainer"})},sort:function(){return this._sortChildren(),this.filter(),this},_sortChildren:function(){if(this._children.length){var t=this.getComparator();t&&(delete this._addedViews,this.triggerMethod("before:sort",this),this._children._sort(t,this),this.triggerMethod("sort",this))}},setComparator:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).preventRender,i=this.viewComparator!==t&&!e;return this.viewComparator=t,i&&this.sort(),this},removeComparator:function(t){return this.setComparator(null,t)},getComparator:function(){return this.viewComparator?this.viewComparator:!(!this.sortWithCollection||!1===this.viewComparator||!this.collection)&&this._viewComparator},_viewComparator:function(t){return this.collection.indexOf(t.model)},filter:function(){return this._isDestroyed?this:(this._filterChildren(),this._renderChildren(),this)},_filterChildren:function(){var t=this;if(this._children.length){var e=this._getFilter();if(e){delete this._addedViews,this.triggerMethod("before:filter",this);var i=[],n=[];o.a.each(this._children._views,function(r,s,o){(e.call(t,r,s,o)?i:n).push(r)}),this._detachChildren(n),this.children._set(i,!0),this.triggerMethod("filter",this,i,n)}else{var r=this.children.length!==this._children.length;this.children._set(this._children._views,r)}}},_getFilter:function(){var t=this.getFilter();if(!t)return!1;if(o.a.isFunction(t))return t;if(o.a.isObject(t)){var e=o.a.matches(t);return function(t){return e(t.model&&t.model.attributes)}}if(o.a.isString(t))return function(e){return e.model&&e.model.get(t)};throw new f({name:"CollectionViewError",message:'"viewFilter" must be a function, predicate object literal, a string indicating a model attribute, or falsy',url:"marionette.collectionview.html#defining-the-viewfilter"})},getFilter:function(){return this.viewFilter},setFilter:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).preventRender,i=this.viewFilter!==t&&!e;return this.viewFilter=t,i&&this.filter(),this},removeFilter:function(t){return this.setFilter(null,t)},_detachChildren:function(t){o.a.each(t,this._detachChildView.bind(this))},_detachChildView:function(t){var e=t._isAttached&&!1!==this.monitorViewEvents;e&&t.triggerMethod("before:detach",t),this.detachHtml(t),e&&(t._isAttached=!1,t.triggerMethod("detach",t))},detachHtml:function(t){this.Dom.detachEl(t.el,t.$el)},_renderChildren:function(){var t=this._addedViews||this.children._views;if(this.triggerMethod("before:render:children",this,t),this.isEmpty())this._showEmptyView();else{this._destroyEmptyView();var e=this._getBuffer(t);this._attachChildren(e,t)}delete this._addedViews,this.triggerMethod("render:children",this,t)},_getBuffer:function(t){var e=this,i=this.Dom.createBuffer();return o.a.each(t,function(t){ut(t),e.Dom.appendContents(i,t.el,{_$contents:t.$el})}),i},_attachChildren:function(t,e){e=this._isAttached&&!1!==this.monitorViewEvents?e:[],o.a.each(e,function(t){t._isAttached||t.triggerMethod("before:attach",t)}),this.attachHtml(t,this.$container),o.a.each(e,function(t){t._isAttached||(t._isAttached=!0,t.triggerMethod("attach",t))})},attachHtml:function(t,e){this.Dom.appendContents(e[0],t,{_$el:e})},isEmpty:function(){return!this.children.length},_showEmptyView:function(){var t=this._getEmptyView();if(t){var e=this._getEmptyViewOptions();this.getEmptyRegion().show(new t(e))}},_getEmptyView:function(){var t=this.emptyView;if(t)return this._getView(t)},_destroyEmptyView:function(){var t=this.getEmptyRegion();t.hasView()&&t.empty()},_getEmptyViewOptions:function(){var t=this.emptyViewOptions||this.childViewOptions;return o.a.isFunction(t)?t.call(this):t},swapChildViews:function(t,e){if(!this._children.hasView(t)||!this._children.hasView(e))throw new f({name:"CollectionViewError",message:"Both views must be children of the collection view to swap.",url:"marionette.collectionview.html#swapping-child-views"});return this._children._swap(t,e),this.Dom.swapEl(t.el,e.el),this.children.hasView(t)!==this.children.hasView(e)?this.filter():this.children._swap(t,e),this},addChildView:function(t,e){if(!t||t._isDestroyed)return t;this._isRendered||this.render();var i=void 0!==e;return(!i||e>=this._children.length)&&(this._addedViews=[t]),this._addChild(t,e),i?this._renderChildren():this.sort(),t},detachChildView:function(t){return this.removeChildView(t,{shouldDetach:!0}),t},removeChildView:function(t,e){return t?(this._removeChildView(t,e),this._removeChild(t),this.isEmpty()&&this._showEmptyView(),t):t},_removeChildViews:function(t){o.a.each(t,this._removeChildView.bind(this))},_removeChildView:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).shouldDetach;t.off("destroy",this.removeChildView,this),e?this._detachChildView(t):this._destroyChildView(t),this.stopListening(t)},_destroyChildView:function(t){t._isDestroyed||ct(t,!1===this.monitorViewEvents)},_removeChildren:function(){this._destroyChildren(),this.getEmptyRegion().destroy(),delete this._addedViews},_destroyChildren:function(){this._children.length&&(this.triggerMethod("before:destroy:children",this),!1===this.monitorViewEvents&&this.Dom.detachContents(this.el,this.$el),this._removeChildViews(this._children._views),this._children._init(),this.children._init(),this.triggerMethod("destroy:children",this))}},{setDomApi:at,setRenderer:_t});o.a.extend(Ct.prototype,lt);var Vt=["collectionEvents","events","modelEvents","triggers","ui"],Mt=function(t,e){this.view=e,this._setOptions(t,Vt),this.cid=o.a.uniqueId(this.cidPrefix),this.ui=o.a.extend({},o.a.result(this,"ui"),o.a.result(e,"ui")),this.listenTo(e,"all",this.triggerMethod),this.initialize.apply(this,arguments)};Mt.extend=u,o.a.extend(Mt.prototype,F,Y,it,st,{cidPrefix:"mnb",initialize:function(){},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this.view._removeBehavior(this),this._deleteEntityEventHandlers(),this},proxyViewProperties:function(){return this.$el=this.view.$el,this.el=this.view.el,this},bindUIElements:function(){return this._bindUIElements(),this},unbindUIElements:function(){return this._unbindUIElements(),this},getUI:function(t){return this._getUI(t)},delegateEntityEvents:function(){return this._delegateEntityEvents(this.view.model,this.view.collection),this},undelegateEntityEvents:function(){return this._undelegateEntityEvents(this.view.model,this.view.collection),this},_getEvents:function(){var t=this;if(this.events){var e=this.normalizeUIKeys(o.a.result(this,"events"));return o.a.reduce(e,function(e,i,n){return o.a.isFunction(i)||(i=t[i]),i?(e[n=Z(n,t.cid)]=i.bind(t),e):e},{})}},_getTriggers:function(){if(this.triggers){var t=this.normalizeUIKeys(o.a.result(this,"triggers"));return this._getViewTriggers(this.view,t)}}});var Rt=["channelName","radioEvents","radioRequests","region","regionClass"],It=function(t){this._setOptions(t,Rt),this.cid=o.a.uniqueId(this.cidPrefix),this._initRegion(),this._initRadio(),this.initialize.apply(this,arguments)};It.extend=u,o.a.extend(It.prototype,F,H,z,{cidPrefix:"mna",initialize:function(){},start:function(t){return this.triggerMethod("before:start",this,t),this.triggerMethod("start",this,t),this},regionClass:ft,_initRegion:function(){var t=this.region;if(t){var e={regionClass:this.regionClass};this._region=pt(t,e)}},getRegion:function(){return this._region},showView:function(t){for(var e=this.getRegion(),i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return e.show.apply(e,[t].concat(n)),t},getView:function(){return this.getRegion().currentView}});l(v),l(g),l(m),l(y),l(b),l(w),l(c),l(N);var At={View:wt,CollectionView:Ct,MnObject:W,Object:W,Region:ft,Behavior:Mt,Application:It,isEnabled:et,setEnabled:function(t,e){return tt[t]=e},monitorViewEvents:B,Events:L,extend:u,DomApi:ht,VERSION:"4.0.0"};e.e=At},function(t,e,i){t.exports=function(t,e){"use strict";t="default"in t?t.default:t,e="default"in e?e.default:e;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},n=e.Radio,r=e.Radio={};r.VERSION="2.0.0",r.noConflict=function(){return e.Radio=n,this},r.DEBUG=!1,r._debugText=function(t,e,i){return t+(i?" on the "+i+" channel":"")+': "'+e+'"'},r.debugLog=function(t,e,i){r.DEBUG&&console&&console.warn&&console.warn(r._debugText(t,e,i))};var s=/\s+/;function o(t,e,i,n){var r=t[e];if(!(i&&i!==r.callback&&i!==r.callback._callback||n&&n!==r.context))return delete t[e],!0}r._eventsApi=function(e,n,r,o){if(!r)return!1;var a={};if("object"===(void 0===r?"undefined":i(r))){for(var h in r){var l=e[n].apply(e,[h,r[h]].concat(o));s.test(h)?t.extend(a,l):a[h]=l}return a}if(s.test(r)){for(var u=r.split(s),c=0,d=u.length;c<d;c++)a[u[c]]=e[n].apply(e,[u[c]].concat(o));return a}return!1},r._callHandler=function(t,e,i){var n=i[0],r=i[1],s=i[2];switch(i.length){case 0:return t.call(e);case 1:return t.call(e,n);case 2:return t.call(e,n,r);case 3:return t.call(e,n,r,s);default:return t.apply(e,i)}};var a,h,l={};function u(e){return l[e]||(l[e]=t.bind(r.log,r,e))}function c(e){return t.isFunction(e)?e:function(){return e}}t.extend(r,{log:function(e,i){if("undefined"!=typeof console){var n=t.toArray(arguments).slice(2);console.log("["+e+'] "'+i+'"',n)}},tuneIn:function(t){var e=r.channel(t);return e._tunedIn=!0,e.on("all",u(t)),this},tuneOut:function(t){var e=r.channel(t);return e._tunedIn=!1,e.off("all",u(t)),delete l[t],this}}),r.Requests={request:function(e){var i=t.toArray(arguments).slice(1),n=r._eventsApi(this,"request",e,i);if(n)return n;var s=this.channelName,o=this._requests;if(s&&this._tunedIn&&r.log.apply(this,[s,e].concat(i)),o&&(o[e]||o.default)){var a=o[e]||o.default;return i=o[e]?i:arguments,r._callHandler(a.callback,a.context,i)}r.debugLog("An unhandled request was fired",e,s)},reply:function(t,e,i){return r._eventsApi(this,"reply",t,[e,i])?this:(this._requests||(this._requests={}),this._requests[t]&&r.debugLog("A request was overwritten",t,this.channelName),this._requests[t]={callback:c(e),context:i||this},this)},replyOnce:function(e,i,n){if(r._eventsApi(this,"replyOnce",e,[i,n]))return this;var s=this,o=t.once(function(){return s.stopReplying(e),c(i).apply(this,arguments)});return this.reply(e,o,n)},stopReplying:function(e,i,n){return r._eventsApi(this,"stopReplying",e)?this:(e||i||n?function(e,i,n,r){e||(e={});for(var s=i?[i]:t.keys(e),a=!1,h=0,l=s.length;h<l;h++)i=s[h],e[i]&&o(e,i,n,r)&&(a=!0);return a}(this._requests,e,i,n)||r.debugLog("Attempted to remove the unregistered request",e,this.channelName):delete this._requests,this)}},r._channels={},r.channel=function(t){if(!t)throw new Error("You must provide a name for the channel.");return r._channels[t]?r._channels[t]:r._channels[t]=new r.Channel(t)},r.Channel=function(t){this.channelName=t},t.extend(r.Channel.prototype,e.Events,r.Requests,{reset:function(){return this.off(),this.stopListening(),this.stopReplying(),this}});var d=[e.Events,r.Requests];return t.each(d,function(e){t.each(e,function(e,i){r[i]=function(e){return h=t.toArray(arguments).slice(1),(a=this.channel(e))[i].apply(a,h)}})}),r.reset=function(e){var i=e?[this._channels[e]]:this._channels;t.each(i,function(t){t.reset()})},r}(i(0),i(1))},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=$},function(t,e,i){"use strict";i.r(e);var n=i(1),r=i.n(n),s=i(0),o=i.n(s),a=i(2),h=["appRoutes","controller"],l=r.a.Router.extend({constructor:function(t){this._setOptions(t),this.mergeOptions(t,h),r.a.Router.apply(this,arguments);var e=this.appRoutes,i=this._getController();this.processAppRoutes(i,e),this.on("route",this._processOnRoute,this)},appRoute:function(t,e){var i=this._getController();return this._addAppRoute(i,t,e),this},_processOnRoute:function(t,e){if(o.a.isFunction(this.onRoute)){var i=o.a.invert(this.appRoutes)[t];this.onRoute(t,i,e)}},processAppRoutes:function(t,e){var i=this;if(!e)return this;var n=o.a.keys(e).reverse();return o.a.each(n,function(n){i._addAppRoute(t,n,e[n])}),this},_getController:function(){return this.controller},_addAppRoute:function(t,e,i){var n=t[i];if(!n)throw new Error('Method "'+i+'" was not found on the controller');this.route(e,i,o.a.bind(n,t))}});o.a.extend(l.prototype,o.a.pick(a.c.prototype,["triggerMethod","normalizeMethods","_setOptions","mergeOptions","getOption","bindEvents","unbindEvents"])),a.e.AppRouter=l,e.default=l},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="leaderboard">\r\n\t<div class="row">\r\n\t\t<div class="col col-7 session-info">\r\n\t\t\t<p class="session-info-state">LAP</p>\r\n\t\t\t<div class="hor-sep"></div>\r\n\t\t\t<p class="session-info-progress">'+(null==(__t=leadersCurrentLap)?"":__t)+' <span class="smaller">/</span> '+(null==(__t=totalLaps)?"":__t)+'</p>\r\n\t\t</div>\r\n\t\t<div class="col"></div>\r\n\t</div>\r\n\t<div class="row">\r\n\t\t<div class="col col-12 list">\r\n\t\t\t<ul class=".overwrite-list"></ul>\r\n\t\t</div>\r\n\t</div>\r\n</div>';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="col position-col text-center">\r\n\t<span>'+(null==(__t=racePosition)?"":__t)+'</span>\r\n</div>\r\n<div class="col name-col">\r\n\t<span style="border-color: '+(null==(__t=nameColor)?"":__t)+'">'+(null==(__t=name)?"":__t)+'</span>\r\n</div>\r\n<div class="col col-5 extra-col">\r\n\x3c!--\t<span>Leader</span>--\x3e\r\n</div>';return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="<p>No racing going on.</p>";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+="\x3c!--<h2>wassup</h2>--\x3e";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div id="live-leaderboard" class="col col-md-8 col-xl-2 offset-xl-0"></div>\r\n<div id="main" class="col col-md-4 col-xl-10 offset-xl-0"></div>';return __p}},function(t,e,i){"use strict";i.r(e);var n=i(1),r=i.n(n),s=i(2);const o=n.Model.extend({url:"http://localhost:8180/crest2/v1/api?gameStates=true",defaults:{gameState:0,sessionState:0,raceState:0},parse:t=>({gameState:t.gameStates.mGameState,sessionState:t.gameStates.mSessionState,raceState:t.gameStates.mRaceState})}),a=n.Model.extend({url:"http://localhost:8180/crest2/v1/api?eventInformation=true",defaults:{lapsInEvent:-1,trackLocation:null,trackVariation:null,trackLength:0,translatedTrackLocation:null,translatedTrackVariation:null},parse:t=>({lapsInEvent:t.eventInformation.mLapsInEvent,trackLocation:t.eventInformation.mTrackLocation,trackVariation:t.eventInformation.mTrackVariation,trackLength:t.eventInformation.mTrackLength,translatedTrackLocation:t.eventInformation.mTranslatedTrackLocation,translatedTrackVariation:t.eventInformation.mTranslatedTrackVariation})}),h=n.Model.extend({defaults:{name:"<name>",racePosition:0,currentLap:0},parse:t=>({id:t.mName.hashCode(),name:t.mName,racePosition:t.mRacePosition,currentLap:t.mCurrentLap})}),l=n.Collection.extend({model:h,comparator:"racePosition",url:"http://localhost:8180/crest2/v1/api?participants=true",modelId:t=>(t.name||t.mName).hashCode(),parse:t=>t.participants.mParticipantInfo}),u=s.e.MnObject.extend({initialize(t){this.participantsModel=t.participantsModel,this.eventInfoModel=t.eventInfoModel,this.gameStateModel=t.gameStateModel}}),c=s.e.Object.extend({default(){let t=new l,e=new a,i=new o;this.leaderboardController=new u({participantsModel:t,eventInfoModel:e,gameStateModel:i});const n=this.getOption("rootView");n.showLeaderboard(this.leaderboardController),n.showMain()}}),d=i(7).default.extend({initialize(t){this.controller=new c(t)},appRoutes:{"":"default"}});var f=i(0),p=i.n(f);const v=i(8),g=i(9),_=i(10),m=s.d.extend({template:g,tagName:"li",className:"row leaderboard-child-view",initialize(){this.model.bind("change",p.a.bind(this.render,this))},requestRender(){let t=!1,e=this.model;if(e){let i=e.previous("racePosition"),n=e.get("racePosition");if(i&&n&&i!==n){t=!0;const e=(t,e)=>{t.$el.removeClass("move-"+e),t.$el.offsetWidth,t.$el.addClass("move-"+e)};let r=n-i,s=r>0?"down":"up";console.log(r);let o=Promise.delay(e,10,null,this,s);for(let t=1;t<r;t++)o=o.delay(e,500,null,this,s);o.then(this.render.apply(this))}}t||this.render()},onRender(){this.$el.removeClass("move-up move-down")},templateContext(){return{shortenedName:this.model.get("name").trim().slice(0,3).toUpperCase(),nameColor:this.model.get("name").hashCode().intToHSL()}}}),y=s.d.extend({template:_}),w=s.b.extend({collection:null,initialize(t){this.controller=t.controller},childView:m,emptyView:y,tagName:"ul",className:"leaderboard-collection-view"}),b=s.d.extend({template:v,tagName:"div",className:"leaderboard-view",regions:{collection:{el:"ul",replaceElement:!0}},defaultUpdateTick:1e3,initialize(t){this.controller=t.controller,this.participantsModel=this.controller.participantsModel,this.eventInfoModel=this.controller.eventInfoModel,this.gameStateModel=this.controller.gameStateModel,this.sessionStates=["INVALID","PRAC","TEST","QUALI","FORM","RACE","TT"],p.a.bindAll(this,"render"),this.eventInfoModel.bind("change",this.render),this.participantsModel.fetch(),this.eventInfoModel.fetch(),this.updateTick=this.defaultUpdateTick,this.repeatRender()},templateContext(){const t=this.participantsModel.isEmpty()?0:this.participantsModel.at(0).get("currentLap");return{session:this.sessionStates[this.gameStateModel.get("sessionState")],leadersCurrentLap:t,totalLaps:this.eventInfoModel.get("lapsInEvent")}},onRender(){this.showChildView("collection",new w({controller:this.controller,collection:this.participantsModel}))},repeatRender(){var t=this;setTimeout(function(){t.reRender()},this.updateTick)},reRender(){var t=this;this.eventInfoModel.fetch(),this.participantsModel.fetch({success:function(){t.updateTick=t.defaultUpdateTick,t.participantsModel.isEmpty()&&(t.updateTick=10*t.defaultUpdateTick),t.repeatRender()}})}}),E=i(11),x=s.d.extend({template:E}),C=s.d.extend({className:"row",template:i(12),regions:{leaderboard:"#live-leaderboard",main:"#main"},showLeaderboard(t){let e=new b({controller:t});this.showChildView("leaderboard",e)},showMain(){this.showChildView("main",new x)}});(new(s.a.extend({region:"#root",onStart(){const t=new C;new d({rootView:t});this.showView(t),r.a.history.start()}}))).start()}]);